<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Symphony</title>
</head>

<body>
  <main>
    <p><strong>Symphony</strong> <span id="tick">1.1.1</span></p>
    <label for="listening">
      <input id="listening" type="checkbox">
      <span>Enable</span>
    </label>
    <label for="rate">
      <span>BPM (<span id="rate-value">120</span>)</span>
      <input id="rate" type="range" min="50" max="200" value="120" disabled>
    </label>
    <label for="proximity" title="Only hear what is close to your cursor">
      <input id="proximity" type="checkbox" disabled>
      <span>Proximity</span>
    </label>
    <label for="multiplayer" title="Hear what other users are selecting">
      <input id="multiplayer" type="checkbox" disabled>
      <span>Multiplayer</span>
    </label>
  </main>
  <script type="module" src="./metronome.ts"></script>
  <script type="module" src="./main.tsx"></script>
  <script id="worker" type="javascript/worker">
    let timerID = null;
    let interval = 100;
    
    self.onmessage = function (e) {
      if (e.data == "start") {
        timerID = setInterval(function () {
          postMessage("tick");
        }, interval);
      } else if (e.data.interval) {
        interval = e.data.interval;
        if (timerID) {
          clearInterval(timerID);
          timerID = setInterval(function () {
            postMessage("tick");
          }, interval);
        }
      } else if (e.data == "stop") {
        clearInterval(timerID);
        timerID = null;
      }
    };
    
    postMessage("jello world");    
  </script>
</body>

</html>